# 문서 재임베딩 (Re-ingestion) 구현 계획

## 목표
청크 설정 변경이나 파싱 로직 업데이트 시, 기존에 업로드된 문서를 다시 처리(재임베딩)할 수 있는 기능을 제공합니다.

## 변경 사항

### 1. 백엔드
*   **초기화 로직**: `rag.py`에 `delete_file` 메소드를 활용하여 재임베딩 전 기존 청크를 삭제하는 로직 보장.
*   **API 추가** (`backend/blueprints/documents.py`):
    *   `POST /api/documents/<id>/reingest`: 특정 문서 하나를 현재 설정으로 다시 처리.
    *   `POST /api/documents/reingest-all`: 모든 문서를 순차적으로 다시 처리.
*   **스트리밍**: 재임베딩 과정도 업로드와 동일하게 진행 상황을 스트리밍 응답으로 반환.

### 2. 프론트엔드 (`DocumentManager.jsx`)
*   **개별 재임베딩**: 문서 목록의 각 항목에 "재임베딩(Re-ingest)" 버튼 추가.
*   **전체 재임베딩**: 설정 영역에 "전체 재임베딩(Re-ingest All)" 버튼 추가.
*   **로그 표시**: 재임베딩 시작 시 진행 로그 창을 활성화하고 실시간 업데이트 표시.

## 검증 계획
*   개별 문서 재임베딩 실행 및 로그 확인.
*   전체 재임베딩 실행 시 순차적 처리 확인.
*   재임베딩 후 벡터 뷰어에서 청크 데이터가 갱신되었는지 확인.
